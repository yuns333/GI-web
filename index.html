<!doctype html>
<html>

<head>
  <title>UX studio</title>
  <meta charset="utf-8">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
  <script type="text/javascript">
    var arrayWithElements = new Array();
    var exUrl = document.referrer;

    function clickListener(e) {
      var clickedElement = (window.event) ?
        window.event.srcElement :
        e.target; //window.event가 있으면 window.event.srcElement가 선택되고 없으면 e.target선택
      var tags = document.getElementsByTagName(clickedElement.tagName);//현재 클릭된 이벤트의 태그와 같은 모든 태그를 불러옴

      for (var i = 0; i < tags.length; ++i) {
        if (tags[i] == clickedElement) {
          arrayWithElements.push({
            tag: clickedElement.tagName,
            index: i,
            value: tags[i].getAttribute("value")
          });
          console.log(arrayWithElements);
        }
      }
    }
    document.onclick = clickListener;

    //user_info 변수를 하나 더 생성해 유입 경로 등 유저의 정보를 받음
    //page_info 변수로 페이지 정보를 받아옴
    //page_info 변수와 arrayWithElements 배열을 조합하여 가장 많은 element정보 알아내야함
    //arrayWithElements 배열에는 현재 태그명, index, value가 들어가 있음. 좀 더 일반화 필요
    //user_info, page_info, arrayWithElements배열을 server로 전송해야함
    //이벤트가 발생할 때 마다 보내는 것이 아니라 유저가 페이지에서 나갈때 배열을 전송하면 됨

  </script>
</head>

<body>
  <h1>UX studio</h1>
  <h2>theme</h2>
  <li>
    <a href="test_web_1.html" target="_blank" title="html5 specification" value="simple theme">simple theme</a>
  </li>
  <li>
    <a href="test_web_2.html" target="_blank" title="html5 specification" value="dark theme">dark theme</a>
  </li>
  <li>
    <a href="test_web_3.html" target="_blank" title="html5 specification"value="bright theme">bright theme</a>
  </li>
</body>

</html>
